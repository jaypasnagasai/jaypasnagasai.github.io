<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>🎤 Vapi Voice Agent Test</title>
</head>
<body>
  <h1>🎤 Vapi Voice Agent Test</h1>
  <button id="start">Start</button>
  <button id="stop">Stop</button>
  <p id="status">Status: Not started</p>

  <script type="module">
    import Vapi from "https://cdn.jsdelivr.net/npm/@vapi-ai/web/dist/index.mjs";

    const vapi = new Vapi({
      apiKey: "e56e5048-3904-451a-9cac-f5e6daad08be"
    });

    const status = document.getElementById("status");

    document.getElementById("start").addEventListener("click", () => {
      console.log("Starting call...");
      vapi.start({ agentId: "2b57fa2b-5cc5-4a6a-b748-7f77136375f2" });
    });

    document.getElementById("stop").addEventListener("click", () => {
      console.log("Stopping call...");
      vapi.stop();
    });

    vapi.on("call-start", () => {
      status.textContent = "Status: Talking to assistant...";
    });

    vapi.on("call-end", () => {
      status.textContent = "Status: Call ended.";
    });

    vapi.on("error", (err) => {
      console.error("Vapi error:", err);
      status.textContent = "Error: " + err.message;
    });
  </script>
</body>
</html>
